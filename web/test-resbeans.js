function TestSupport(){this.wadlDoc=null,this.wadlURL="",this.wadlErr="Cannot access WADL. Please restart your RESTful application, and refresh this page or provide the URL here. This may be caused by the REST implementation not providing the WADL file automatically (such as JBoss RESTEasy). In that case you have to pregenerate it manually or switch to Jersey libraries.",this.currentValidUrl="",this.breadCrumbs=[],this.currentMethod="",this.currentMimeType="",this.topUrls=[],this.paramNumber=1,this.bcCount=0,this.currMonitorText=null,this.childrenContent="",this.currentXmlHttpReq="",this.tcStr="",this.tcCount=0,this.prettyContent="",this.colSize="86",this.rowSize="20",this.iframeWidth="530",this.iframeHeight="400",this.allcat=[],this.projectName="",this.expand=new Image,this.expand.src="expand.gif",this.collapse=new Image,this.collapse.src="collapse.gif",this.og=new Image,this.og.src="og.gif",this.cg=new Image,this.cg.src="cg.gif",this.viewIds=[{id:"table",name:"Tabular View",type:"tableContent"},{id:"raw",name:"Raw View",type:"rawContent"},{id:"structure",name:"Sub-Resource",type:"structureInfo"},{id:"header",name:"Headers",type:"headerInfo"},{id:"monitor",name:"Http Monitor",type:"monitorContent"}],this.xhr=new XHR,this.wdr=new WADLParser}function WADLParser(){this.wadlResources=[]}function tree(){this.categories=[]}function category(e,t,a,r){this.r=e,this.id=t,this.text=r,this.items=[],this.ndx=ts.allcat.length,ts.allcat.push(this),this.uri=a}function item(e,t,a,r,n){this.r=e,this.id=t,this.text=r,this.ndx=ts.allcat.length,ts.allcat.push(this),this.uri=a}function XHR(){}TestSupport.prototype={init:function(){this.debug("Initializing scripts...");var e=baseURL.split("||");if(baseURL=e[0],3==e.length){var t=e[1].split(","),a=e[2].split(","),r="resources/";for(var n in t){var s=t[n];if("ServletAdaptor"==s){r=a[n].replace("*","");break}}baseURL=this.concatPath(baseURL,r)}else if(2==e.length){var i=e[1]+"/";baseURL=this.concatPath(baseURL,i)}this.wadlURL=this.concatPath(baseURL,"application.wadl"),this.initFromWadl()},initFromWadl:function(){var e=this.wdr.getWadlDocument(this.wadlURL);null!=e?(ts.wadlDoc=e,this.wdr.updateMenu(this.wadlURL,ts.wadlDoc)):(this.setvisibility("main","inherit"),this.updatepage("content","<span class=bld>Help Page</span><br/><br/><p>Cannot access WADL. Please restart your REST application, and refresh this page. This may be caused by the REST implementation not providing the WADL file automatically (such as JBoss RESTEasy). In that case you have to pregenerate it manually or switch to Jersey libraries.</p><p>If you still see this error and if you are accessing this page using Firefox with Firebug plugin, then<br/>you need to disable firebug for local files. That is from Firefox menubar, check <br/>Tools > Firebug > Disable Firebug for Local Files</p>"))},concatPath:function(e,t){var a=e.length;if("/"==e.substring(a-1)){for(;a>=0&&"/"==e.substring(a-2,a-1);a--);e=e.substring(0,a-1)}if(a=0,"/"==t.substring(a,a+1)){for(;a<t.length&&"/"==t.substring(a,a+1);a++);t=t.substring(a)}return e+"/"+t},trim:function(e){return e&&"string"==typeof e?e.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," "):null},setvisibility:function(e,t){try{document.getElementById(e).style.visibility=t}catch(a){}},getElementsByTagName:function(e,t){var a=[];if(null!=e&&null!=t)for(var r=e.childNodes,n=0;n<r.length;n++){var s=r[n],i=s.nodeName;(t==i||-1!==i.indexOf(":"+t,i.length-t.length-1))&&a.push(s)}return a},changeMethod:function(){var e=document.getElementById("methodSel"),t=e.options[e.selectedIndex].value,a=-1;-1!=t.indexOf("[")&&(a=t.substring(t.indexOf("[")+1,t.lastIndexOf("]")),t=t.substring(0,t.indexOf("[")));var r=document.getElementById("mimeSel");(null==r||void 0==r)&&(this.currentMimeType=this.wdr.getMimeType(t)),this.currentMethod=this.wdr.getMethod(t),document.getElementById("methodName").value=this.currentMethod;var n=null,s=this.currentResource;if(null!=s&&-1!=a){var i=this.getElementsByTagName(s,"method")[a];n=this.getElementsByTagName(i,"request")}var l=this.getParamRep(n,this.currentMethod);this.updatepage("paramHook",l),document.getElementById("mimeType").value=this.currentMimeType,ts.clearOutput()},addTemplateParams:function(e,t){if(null!=e&&null!=t){var a=e.attributes.getNamedItem("path");if(null==a)return;var r=a.nodeValue.split("/");for(var n in r){var s=r[n];if(-1!=s.indexOf("{")){var i=document.createElement("param");t.addChild(i);var l=s.indexOf("{"),o=s.substring(l+1,s.indexOf("}"));i.name=o,i.type="xs:string",i.style="template"}}}},changeMimeType:function(){var e=document.getElementById("mimeSel"),t=e.options[e.selectedIndex].value;document.getElementById("mimeType").value=t},getMethodMimeTypeCombo:function(e){var t=this.getElementsByTagName(e,"method"),a='<table border=0><tbody><tr><td valign="top"><span id="j_id14"><label for="methodSel" class="LblLev2Txt_sun4"><span>Choose method to test: </span></label></span></td>';a+="<td><span id=j_id14><select id='methodSel' class=MnuJmp_sun4 name='methodSel' onchange='javascript:ts.changeMethod();'>";for(var r=0;r<t.length;r++){var n=t[r],s=n.attributes.getNamedItem("name").nodeValue;if("OPTIONS"!==s){var i=this.wdr.getMediaType(n);null==i&&(i=this.wdr.getDefaultMime());for(var l=i.split(","),o=0;o<l.length;o++){var d=l[o],u=this.wdr.getMethodNameForDisplay(s,d);a+="GET"==s?"  <option class=MnuJmpOpt_sun4 value='"+u+"["+r+"]' selected>"+u+"</option>":"  <option class=MnuJmpOpt_sun4 value='"+u+"["+r+"]'>"+u+"</option>"}}}return a+="</select></span></td><td width=46/><td><a class='Btn1_sun4 Btn1Hov_sun4' onclick='ts.testResource()'>Test</a></td></tr></tbody></table>"},doShowContent:function(e){this.clearInput(),document.getElementById("req_headers").style.visibility="visible";var t=this.wdr.findResource(e);if(this.currentResource=t,null!=t){this.wadlDoc.documentElement;this.doShowStaticResource(e,t)}else this.doShowDynamicResource(e,this.wdr.getDefaultMethod(),this.wdr.getDefaultMime())},doShowContentForId:function(e){this.clearInput();var t=document.getElementById("req_headers");t&&(t.style.visibility="visible");var a=ts.allcat[e],r=a.r,n=a.uri;if(this.currentResource=r,null!=r){this.wadlDoc.documentElement;this.doShowStaticResource(n,r)}else this.doShowDynamicResource(n,this.wdr.getDefaultMethod(),this.wdr.getDefaultMime())},getResourcePath:function(e){var t=this.getPath(e,"");return t.replace(/\/\//g,"/")},getPath:function(e,t){if(null==e.parentNode||null==e.attributes.getNamedItem("path"))return null==t||""==t?"":t;var a=e.attributes.getNamedItem("path"),r=a.nodeValue;return null==t||""==t?this.getPath(e.parentNode,r):this.getPath(e.parentNode,r+"/"+t)},doShowDynamicResource:function(e,t,a){ts.clearOutput(),paramNumber=1;var r="";null!=a?r=r+"("+a+")":a=this.getDefaultMime(),this.showBreadCrumbs(e);var n=this.getDisplayUri(e),s='<br/><table border=0><tbody><tr><td valign="top"><span id="j_id14"><label for="methodSel" class="LblLev2Txt_sun4"><span>Choose method to test: </span></label></span></td>';s+="<td><span id=j_id14><select id='methodSel' class=MnuJmp_sun4 name='methodSel' onchange='javascript:ts.changeMethod();'>",s+="  <option class=MnuJmpOpt_sun4 selected value='GET'>GET</option>",s+="  <option class=MnuJmpOpt_sun4 value='PUT'>PUT</option>",s+="  <option class=MnuJmpOpt_sun4 value='DELETE'>DELETE</option>",s+="</select></span></td>",s+='<td valign="top"><span id="j_id14"><label for="methodSel" style="padding-left: 6px;" class="LblLev2Txt_sun4"><span>MIME: </span></label></span></td>',s+="<td><span id=j_id14><select id='mimeSel' class=MnuJmp_sun4 name='mimeSel' onchange='javascript:ts.changeMimeType();'>",s+="  <option class=MnuJmpOpt_sun4 value='application/xml'>application/xml</option>",s+="  <option class=MnuJmpOpt_sun4 value='application/json'>application/json</option>",s+="  <option class=MnuJmpOpt_sun4 value='text/xml'>text/xml</option>",s+="  <option class=MnuJmpOpt_sun4 value='text/plain'>text/plain</option>",s+="  <option class=MnuJmpOpt_sun4 value='text/html'>text/html</option>",s+="  <option class=MnuJmpOpt_sun4 value='image/*'>image/*</option>",s+="</select></span></td>",s+="<td width=30/>",s+="<td><span id=j_id14><a class='Btn2_sun4 Btn1Hov_sun4' onclick='ts.addParam()'>Add Parameter</a>",s+="</span></td><td><a class='Btn1_sun4 Btn1Hov_sun4' onclick='ts.testResource()'>Test</a></td></tr></tbody></table><br/>",ts.updatepage("testaction",s),ts.updatepage("testinput",this.getFormRep(n,e,t,a));var i=this.getTemplateParamsRep(n);""!=i&&ts.updatepage("pathParamHook",i);var l=this.getDisplayUri(n),o="<a id='"+n+"' class=Hyp_sun4 href=javascript:ts.doShowContent('"+n+"') >"+this.getDisplayURL(l,80)+"</a>";this.updatepage("request","<span class=bld>Resource:</span> "+o+' <br/>(<a href="'+n+'" class=Hyp_sun4 target="_blank"><span>'+this.getDisplayURL(n,90)+"</span></a>)")},doShowStaticResource:function(e,t){ts.clearOutput(),this.paramNumber=1,this.showBreadCrumbs(e);var a=this.wdr.getDefaultMethod(),r=this.wdr.getDefaultMime(),n=e,s=this.getDisplayUri(n);this.updatepage("testaction","<br/>"+this.getMethodMimeTypeCombo(t)+"<br/>"),this.updatepage("testinput",this.getFormRep(s,e,a,r));var i=this.getTemplateParamsRep(s);""!=i&&ts.updatepage("pathParamHook",i);for(var l=document.getElementById("methodSel"),o=l.options,d=0;d<o.length;d++)"GET"==o[d].value.substring(0,3)&&(l.selectedIndex=d);this.changeMethod();var u="<a id='"+n+"' class=Hyp_sun4 href=javascript:ts.doShowContent('"+n+"') >"+this.getDisplayURL(s,80)+"</a>";this.updatepage("request","<span class=bld>Resource:</span> "+u+' <br/>(<a href="'+n+'" class=Hyp_sun4 target="_blank"><span>'+this.getDisplayURL(n,90)+"</span></a>)")},getFormRep:function(e,t,a,r){(null==a||"undefined"==a)&&(a=this.getDefaultMethod()),(null==r||"undefined"==r)&&(r=this.getDefaultMime());var n="<div id='formSubmittal'>";return n+="<form action='javascript:ts.dummyMethod()' method="+a+" id='form1' name='form1'>",n+="<div id='pathParamHook'></div>",n+="<div id='paramHook'></div>",n+="<input name='path' value='"+t+"' type='hidden'>",n+="<input id='methodName' name='methodName' value='"+a+"' type='hidden'>",n+="<input id='mimeType' name='mimeType' value='"+r+"' type='hidden'>",n+="<input id='test' name='test' style='display:none' value='' type='submit' onchange='ts.testResource();'>",n+="</form>",n+="</div>"},getTemplateParamsRep:function(e){var t="",a=ts.trim(e).split("/");for(var r in a){var n=ts.trim(a[r]);if(null!=n){var s=n.split(",");for(var i in s){var l=ts.trim(s[i]);if(null!=l&&l.indexOf("{")>-1){var o=l.substring(1,l.length-1);t+='<tr><td valign="top"><span id="j_id14"><label for="tparams" class="LblLev2Txt_sun4">',t+="<span>"+o+": </span></label></span></td>",t+='<td><span id="j_id14"><input id=tparams name="'+o+'" type=text value="" size=40 title="'+o+'" class="TxtFld_sun4 TxtFldVld_sun4"/></span></td></tr>'}}}}return""!=t&&(t="<table border=0><tbody><tr>"+t+"</tr></tbody></table>"),t},dummyMethod:function(){},addParam:function(){var e='<tr><td valign="top"><span id="j_id14"><label for="newParamNames" class="LblLev2Txt_sun4">';e+="<span>param"+paramNumber+": </span></label></span></td>",e+='<td><span id="j_id14"><input id=newParamNames name="param'+paramNumber+'" type=text value="param'+paramNumber+'" size=40 title="param'+paramNumber+'" class="TxtFld_sun4 TxtFldVld_sun4"/></span></td></tr>',e+='<tr><td valign="top"><span id="j_id14"><label for="newParamValues" class="LblLev2Txt_sun4">',e+="<span>value"+paramNumber+": </span></label></span></td>",e+='<td><span id="j_id14"><input id=newParamValues name="param'+paramNumber+'" type=text value="value'+paramNumber+'" size=40 title="value'+paramNumber+'" class="TxtFld_sun4 TxtFldVld_sun4"/></span></td></tr>';var t=document.getElementById("paramHook").innerHTML;-1==t.indexOf("Additional parameters")&&(e='<tr><td valign="top"><span id="j_id14"><label for="dummy" class="LblLev2Txt_sun4"><span>Additional parameters :</span></label></span></td><td><span id="j_id14"></span></td></tr>'+e),document.getElementById("paramHook").innerHTML=t+e,this.saveFormInput("form1","resttest-"),paramNumber++},setCookie:function(e,t,a,r,n,s){var i=new Date;i.setTime(i.getTime()),a&&(a=1e3*a*60*60*24);var l=new Date(i.getTime()+a);document.cookie=e+"="+escape(t)+(a?";expires="+l.toGMTString():"")+(r?";path="+r:"")+(n?";domain="+n:"")+(s?";secure":"")},getCookie:function(e){var t=document.cookie.indexOf(e+"="),a=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return null;if(-1==t)return null;var r=document.cookie.indexOf(";",a);return-1==r&&(r=document.cookie.length),unescape(document.cookie.substring(a,r))},saveFormInput:function(e,t){for(var a=(document.getElementById(e),document.getElementsByTagName("input")),r=0;r<a.length;r++){var n=a.item(r);if("text"==n.type){n.onblur=function(){var e=this.name,a=this.value;ts.setCookie(t+e,a)};var s=this.getCookie(t+n.name);s&&""!=s&&(n.value=s)}}},clearAll:function(){this.clearOutput(),document.getElementById("req_headers").style.visibility="hidden",this.updatepage("request","Select a node on the navigation bar (on the left side of this page) to test."),this.updatepage("testaction",""),this.updatepage("testinput",""),this.updatepage("navigation","")},clearInput:function(){this.updatepage("paramHook","");var e=document.getElementById("testinput");e.className="ConMgn_sun4"},clearOutput:function(){this.updatepage("result",""),this.updatepage("resultheaders","")},trimEndingPathDelim:function(e){var t=e;return"/"==t.substring(t.length-1)&&(t=t.substring(0,t.length-1)),t},showBreadCrumbs:function(e){var t=this.getDisplayUri(e);this.breadCrumbs[1]=t;var a="<a class=Hyp_sun4 href=javascript:ts.clearAll() >"+ts.projectName+"</a>",r=this.getDisplayUri(e),n=baseURL;"/"!=n.substring(n.length-1)&&(n+="/"),r=this.trimEndingPathDelim(r);for(var s=r.split("/"),i=0;i<s.length-1;i++){var l=s[i];if(""!=l){n+=l+"/";for(var o=0,d="ts.doShowContent('"+n+"')",u=0;u<ts.allcat.length;u++)ts.allcat[u].uri==n&&(o=u,d="ts.doShowContentForId('"+o+"')");a+="&nbsp;&gt; <a id='"+n+"' class=Hyp_sun4 href=javascript:"+d+" >"+l+"</a>"}}a+="<span>&nbsp;&gt; "+s[s.length-1]+"</span>",this.updatepage("navigation",a)},getParamRep:function(e,t){var a='<table border="0"><tbody>';if(null!=e&&e.length>0)for(var r=0;r<e.length;r++){var n=e[r].childNodes;if(null!=n)for(var s=0;s<n.length;s++){var i=n[s];if(null!=i.nodeName&&"param"==i.nodeName){var l=i.attributes.getNamedItem("name").nodeValue,o="";null!=i.attributes.getNamedItem("default")&&(o=i.attributes.getNamedItem("default").nodeValue);var d="query";null!=i.attributes.getNamedItem("style")&&(d=i.attributes.getNamedItem("style").nodeValue);var u="qparams";"template"==d?u="tparams":"matrix"==d&&(u="mparams"),a+='<tr><td valign="top"><span id="j_id14"><label for="'+u+'" class="LblLev2Txt_sun4"><span>'+l+'</span></label></span></td><td><span id="j_id14"><input type="text" id="'+u+'" name="'+l+'" value="'+o+'" size=40 title="'+l+'" class="TxtFld_sun4 TxtFldVld_sun4"/></span></td></tr>'}}}return("PUT"==t||"POST"==t)&&(a+='<tr><td valign="top"><span id="j_id14"><label for="blobParam" class="LblLev2Txt_sun4"><span>Content: </span></label></span></td><td><span id="j_id14"><textarea class="TxtAra_sun4 TxtAraVld_sun4" id=blobParam name=params rows=6 cols=65>Insert content here.</textarea></span></td></tr>'),a+="</tbody></table>"},testResource:function(){this.updatepage("result","Loading..."),document.getElementById("req_hdr_1")&&ts.storeRequestHeaders();var e=document.getElementById("testinput");e.className="ConMgn_sun4 fxdHeight";var t=this.getFormMimeType(),a=this.getFormMethod(),r="",n=document.forms[0].path.value,s=document.forms[0].tparams,i=[],l=n.indexOf("{");if(-1!=l&&null!=s)if(void 0==s.length)n.indexOf("{"+s.name+"}")?n=n.replace("{"+s.name+"}",s.value):i.push(s);else for(var o=s.length,d=0;o>d;d++){var u=s[d];n.indexOf("{"+u.name+"}")?n=n.replace("{"+u.name+"}",u.value):i.push(u)}var c=document.forms[0].qparams;if(null!=c)if(void 0==c.length)r+=c.name+"="+c.value;else for(var o=c.length,d=0;o>d;d++){var u=c[d];r+=1==o||o-d==1?escape(u.name)+"="+escape(u.value):escape(u.name)+"="+escape(u.value)+"&"}var h=document.forms[0].newParamNames,p=document.forms[0].newParamValues;if(null!=h)if(void 0==h.length)r+=h.value+"="+p.value;else for(var o=h.length,d=0;o>d;d++){var m=h[d].value,g=p[d].value;r+=1==o||o-d==1?escape(m)+"="+escape(g):escape(m)+"="+escape(g)+"&"}var f=null,v=0;if("POST"==a||"PUT"==a){var b=document.getElementById("blobParam").value;null!=b&&void 0!=b&&(f=b),null!=r&&void 0!=r&&r.length>0&&(f=null!=f&&f.length>0?r+"&"+f:r),null!=f&&(v=f.length)}else("GET"==a||"DELETE"==a)&&(v=0);var y;if(y=ts.isURL(n)?n:baseURL+escape(n),null!=i)if(void 0==i.length)y+="/"+escape(i.value);else for(var o=i.length,d=0;o>d;d++)y+="/"+escape(i[d].value);"GET"==a&&r.length>0&&(y+="?"+r);var T=document.forms[0].mparams;if(null!=T)if(void 0==T.length)y+=";"+escape(T.name)+"="+escape(T.value);else for(var o=T.length,d=0;o>d;d++){var u=T[d];y+=";"+escape(u.name)+"="+escape(u.value)}this.getDisplayUri(y);this.currentMethod=a,this.currentMimeType=t;var _=(new Date).getTime();y=-1!=y.indexOf("?")?y+"&timestamp="+_:y+"?timestamp="+_;var w="";"POST"==a?w=this.xhr.post(y,t,f):"PUT"==a?w=this.xhr.put(y,t,f):"GET"==a?w=this.xhr.get(y,t):"DELETE"==a&&(w=this.xhr.delete_(y)),ts.updateContent(w)},isURL:function(e){return e.length>7&&"http"==e.substring(0,4)},createIFrameForUrl:function(e){var t='<iframe id="iFrame_" src="'+e+'" class="frame" width="'+ts.iframeWidth+'" align="left"><p>See <a class=Hyp_sun4 href="'+e+'">"'+e+'"</a>.</p></iframe>';return t},createIFrameForContent:function(e){var t;if(document.createElement&&(t=document.createElement("iframe"))&&(t.name=t.id="iFrame_",t.width=ts.iframeWidth,t.height=ts.iframeHeight,t.src="about:blank",document.getElementById("rawContent").appendChild(t)),t){var a;t.contentDocument?a=t.contentDocument:t.contentWindow?a=t.contentWindow.document:window.frames[t.name]&&(a=window.frames[t.name].document),a&&(a.open(),a.write(e),a.close())}},showViews:function(e){var t='<table cellspacing="0" cellpadding="0" border="0" title="" class="Tab1TblNew_sun4"><tbody><tr id="tabRow">';for(var a in this.viewIds){var r=this.viewIds[a].id,n=document.getElementById(this.viewIds[a].type);e==r?(t+=this.getTab(r,!0),n.style.display="block"):(t+=this.getTab(r,!1),n.style.display="none")}t+="</tr></tbody></table>",this.updatepage("tabTable",t)},monitor:function(e,t,a){var r="Received:\n<br/>"+this.printPretty(t.responseText)+"\n<br/>";null!=a&&void 0!=a&&(r="Sent:\n<br/>"+this.printPretty(a)+"\n\n<br/><br/>"+r);var n=this.currentValidUrl,s="";n.indexOf("?")>0&&(s=n.substring(n.indexOf("?")+1),n=n.substring(0,n.indexOf("?")+1));var i="Request: "+this.currentMethod+" "+n+"\n<br/>"+s+"\n\n<br/><br/>Status: "+t.status+" ("+t.statusText+")\n\n<br/><br/>Time-Stamp:  "+t.getResponseHeader("Date"),l="";null!=this.currMonitorText&&void 0!=this.currMonitorText?(l=this.currMonitorText,this.currMonitorText=i+"\n\n<br/><br/>"+r+"\n<br/>-----------------------------------------------------------------------\n\n<br/><br/>"+l):this.currMonitorText=i+"\n\n<br/><br/>"+r},updateContent:function(e){var t=!0,a="Content may not have Container-Containee Relationship. See Raw View for content.";if(null!=e&&void 0!=e)try{if(-1!=e.indexOf("RequestFailed -->"))throw"Error: "+e;e=""==e?"---No Content---":e.replace(/'/g,"'");var r=a;if(-1!=e.indexOf("<?xml ")||-1!=e.indexOf('{"')){var n=this.getContainerTable(e);null!=n&&(r=n,t=!1)}var s=e;this.updatepage("result",this.createTabs(r,s,t)),t?(ts.isURL(e)&&(this.currentValidUrl=e),"GET"==this.currentMethod&&"text/html"==this.currentMimeType?(this.updatepage("rawContent",""),this.createIFrameForContent(e)):-1!=e.indexOf("<?xml ")?(this.updatepage("rawContent",""),this.updatepage("rawContent",this.printPretty(e))):"GET"==this.currentMethod&&"application/json"!=this.currentMimeType&&"application/csv"!=this.currentMimeType&&"text/plain"!=this.currentMimeType?this.updatepage("rawContent",this.createIFrameForUrl(this.currentValidUrl)):this.updatepage("rawContent",e),this.showViews("raw")):this.showViews("table")}catch(i){ts.debug("updateContent() err name: ["+i.name+"] message: ["+i.message+"]"),this.updatepage("result",this.createTabs(a,e)),this.showViews("raw")}},createTabs:function(e,t,a){var r=' class="nodisp" ',n=" ",s=r;a&&(n=r,s=" ");var i=this.xhr.options(this.currentValidUrl,"application/vnd.sun.wadl+xml"),l=this.getContainerTable(ts.wdr.evaluateWADLUpdate(this.currentValidUrl,i));null==l&&(l="No Sub-Resources available.");var o="<br/><span class=bld>Status:</span> "+this.currentXmlHttpReq.status+" ("+this.currentXmlHttpReq.statusText+')<br/><br/><span class=bld>Response:</span> <div class="Tab1Div_sun4" id="tabTable"></div><div class="tabMain"><div id="menu_bottom" class="stab tabsbottom"></div><div id="headerInfo"'+r+">"+this.getHeaderAsTable(this.currentXmlHttpReq)+'</div><div id="tableContent"'+n+">"+e+'</div><div id="structureInfo"'+r+">"+l+'</div><div id="rawContent"'+s+">"+this.printPretty(t)+'</div><div id="monitorContent"'+r+">"+this.currMonitorText+"</div></div>";return o},printPretty:function(e){if(-1!=e.indexOf("<?xml ")){var t=this.xhr.loadXml(e);return null!=t&&"parsererror"==t.documentElement.nodeName?e:(prettyContent="",this.prettyPrint(t),prettyContent)}return e},prettyPrint:function(e){function t(e,s){if(null!=e.nodeValue)prettyContent+=e.nodeValue;else{var i=r(s);if(prettyContent+=i+a(e,!0),null!=e.childNodes&&e.childNodes.length>0){for(var l=0;l<e.childNodes.length;++l)t(e.childNodes[l],s+2);null==e.childNodes[0].nodeValue||""==n(e.childNodes[0].nodeValue)?prettyContent+=i+a(e,!1):prettyContent+=a(e,!1)}}}function a(e,t){var a="";if(null==e.nodeValue)if("#document"==e.nodeName)t&&(a+="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;    ");else if(t){if(a+="&lt;"+e.nodeName,null!=e.attributes&&e.attributes.length>0)for(var r=0;r<e.attributes.length;++r){var n=e.attributes[r];a+=" "+n.nodeName+'="'+n.nodeValue+'"'}a+=null!=e.childNodes&&e.childNodes.length>0?"&gt;":"/&gt;"}else a+="&lt;/"+e.nodeName+"&gt;";else t&&(a+=e.nodeValue);return a}function r(e){var t="";if(0>e)return t;for(;e;)t+=" &nbsp;",--e;return"\n<br/>"+t}function n(e){return e&&"string"==typeof e?e.replace(/^[\s]+/,"").replace(/[\s]+$/,"").replace(/[\s]{2,}/," "):null}t(e,0)},getTab:function(e,t){var a="";for(var r in this.viewIds){var n=this.viewIds[r].id;if(e==n){a=this.viewIds[r].name;break}}return t?'<td class="Tab1TblSelTd_sun4"><div title="Current Selection: Text Field" class="Tab1SelTxtNew_sun4"><a name="selectedTabAnchor" id="tab'+e+'"/>'+a+"</div></td>":""==e?'<td style="visibility: hidden;"><a href="javascript:ts.showViews(\''+e+'\')" class="Tab1Lnk_sun4" id="tab'+e+'">'+a+"</a></td>":"<td><a href=\"javascript:ts.showViews('"+e+'\')" class="Tab1Lnk_sun4" id="tab'+e+'">'+a+"</a></td>"},getHeaderAsTable:function(e){var t=e.getAllResponseHeaders(),a=new Array;a[0]="Name",a[1]="Value";var r=new Array;r[0]="",r[1]="";var n=t.split("\r\n");1==n.length&&(n=t.split("\n"));for(var s=0,i="",l=0;l<n.length;l++){var o=n[l].indexOf(":"),d=n[l].substring(0,o);if(""!=d){s++;var u=n[l].substring(o+1);i+='<tr><th align="left" scope="row" class="TblTdLyt_sun4" ><span id="j_id9"><span class="">'+d+"</span></span></th>",i+='<td align="left" class="TblTdLyt_sun4" ><span id="j_id10"><span class="">'+u+"</span></span></td></tr>"}}var c=this.currentValidUrl;c.indexOf("?")>0&&(c=c.substring(0,c.indexOf("?")));var h='<table width="100%" cellspacing="0" cellpadding="0" border="0" class="Tbl_sun4"><caption class="TblTtlTxt_sun4">'+this.getDisplayUri(c)+" ("+s+")</caption>";for(h+="<tbody><tr>",l=0;l<a.length;l++)h+='<th align="left" scope="col" class="TblColHdr_sun4"><span class="TblHdrTxt_sun4">'+a[l]+"</span></th>";return h+="</tr>",h+=i,h+="</tbody></table>"},getContainerTable:function(e){if(null==e)return null;var t=null,a=null;try{if(-1!=e.indexOf("<?xml ")){var r=this.xhr.loadXml(e);if(null!=r&&"parsererror"==r.documentElement.nodeName)return null;if(a=r.documentElement,null==a||"html"==a.nodeName)return null}var n=new Array;n[0]="ID",n[1]="URI";var s=new Array;s[0]="",s[1]="";var l=null;if(l=null!=a?this.findUriFromXml(a):this.findUriFromContent(e),null==l||""==l)return null;var o=this.currentValidUrl;o.indexOf("?")>0&&(o=o.substring(0,o.indexOf("?")));var d='<table width="100%" cellspacing="0" cellpadding="0" border="0" class="Tbl_sun4"><caption class="TblTtlTxt_sun4">'+this.getDisplayUri(o)+" ("+this.tcCount+")</caption>";for(d+="<tbody><tr>",i=0;i<n.length;i++)d+='<th align="left" scope="col" class="TblColHdr_sun4"><span class="TblHdrTxt_sun4">'+n[i]+"</span></th>";d+="</tr>",d+=l,d+="</tbody></table>",t=d}catch(u){return ts.debug("getContainerTable() err name: ["+u.name+"] message: ["+u.message+"]"),null}return t},findUriFromXml:function(e){return this.tcStr="",this.tcCount=0,this.getChildUriFromXml(e),this.tcStr},getChildUriFromXml:function(e){if(null!=e){var t=e.childNodes;if(null!=t&&0!=t.length){var a=0;for(a=0;a<t.length;a++){var r=t[a];null==r.nodeValue&&(null!=r.attributes&&r.attributes.length>0&&null!=r.attributes.getNamedItem("uri")&&(this.tcStr+=this.createRowForUriFromXml(r)),this.getChildUriFromXml(r))}}}},createRowForUriFromXml:function(e){var t="",a="-";null!=e.childNodes&&e.childNodes.length>0&&null!=e.childNodes[0].childNodes&&e.childNodes[0].childNodes.length>0&&(a=e.childNodes[0].childNodes[0].nodeValue),null==a&&(a="-"),t+='<tr><th align="left" scope="row" class="TblTdLyt_sun4" ><span id="j_id9"><span class="">'+ ++this.tcCount+"</span></span></th>";var r=e.attributes.getNamedItem("uri").nodeValue;t+='<td align="left" class="TblTdLyt_sun4" ><span id="j_id10"><span class="">';var n=this.getDisplayUri(r),s=this.getSubstitutedUri(r);return t+="<a id='"+r+"' href=javascript:ts.doShowContent('"+r+"') >"+this.getDisplayURL(n,70)+"</a>",t+="<br/>(<a href='"+s+"' target='_blank'><span>"+this.getDisplayURL(r,70)+"</span></a>)",t+="</span></span></td></tr>"},getSubstitutedUri:function(e){var t=e,a=t.indexOf("{");return a>0&&(t=t.substring(0,a)+"1"+t.substring(t.indexOf("}",a)+1)),t},findUriFromContent:function(e){if(null==e||""==e)return"";var t=e.replace(/\\\//g,"/"),a=t.split('"'),r="",n=this.currentValidUrl.indexOf("?");-1==n&&(n=this.currentValidUrl.length),this.tcCount=0;for(var s=0;s<a.length;s++){var i=a[s];if(0==i.indexOf(baseURL)&&i.length>n){r+='<tr><th align="left" scope="row" class="TblTdLyt_sun4" ><span id="j_id9"><span class="">'+ ++this.tcCount+"</span></span></th>",r+='<td align="left" class="TblTdLyt_sun4" ><span id="j_id10"><span class="">';var l=this.getDisplayUri(i);r+="<a id='"+i+"' href=javascript:ts.doShowContent('"+i+"') >"+this.getDisplayURL(l,70)+"</a>",r+="<br/>(<a href='"+i+"' target='_blank'><span>"+this.getDisplayURL(i,70)+"</span></a>)",r+="</span></span></td></tr>"}}return r},getDisplayUri:function(e){var t=e;return t.length>baseURL.length&&(t=t.substring(baseURL.length)),t},getDisplayURL:function(e,t){return e.substring(0,t)},updatepage:function(e,t){var a=document.getElementById(e);null!=a&&(a.innerHTML=t)},getFormMimeType:function(){var e=document.getElementById("mimeType");return null!=e?this.wdr.getMimeType(e.value):this.wdr.getDefaultMime()},getFormMethod:function(){var e=document.getElementById("methodName");return null!=e?this.wdr.getMethod(e.value):this.wdr.getDefaultMethod()},getItemString:function(e,t){var a='<img src="cc.gif" border="0">';return a+='<img src="item.gif" border="0">',a+="<a href=\"javascript:ts.doShowContent('"+t+"')\">",a+=e,a+="</a><br>"},toggleCategory:function(e){var t=document.getElementById("I"+e),a=document.getElementById("I1"+e);a.src.indexOf("cg.gif")>-1?(t.src=ts.expand.src,a.src=ts.og.src):(t.src=ts.collapse.src,a.src=ts.cg.src)},debug:function(e){var t=document.getElementById("dbgComp");if(null==t){t=document.createElement("div"),t.setAttribute("id","dbgComp"),t.style.border="#2574B7 1px solid",t.style.font="12pt/14pt sans-serif";var a=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(a),a.innerHTML="<br/><br/><br/>",document.getElementsByTagName("body")[0].appendChild(t),"undefined"!=typeof rjsConfig&&rjsConfig.isDebug?t.style.display="":t.style.display="none";var r="width: 20px; border-right: #2574B7 1px solid; border-top: #2574B7 1px solid; border-left: #2574B7 1px solid; border-bottom: #2574B7 1px solid; color: #000000; text-align: center;",n='<div style="'+r+'"><a style="text-decoration: none" href="javascript:ts.closeDebug()"><span style="color: red">X</span></a></div>';t.innerHTML='<table><tr><td><span style="color: blue">Rest Debug Window</span></td><td>'+n+"</td></tr></table><br/>"}var s=t.innerHTML,i=new Date,l=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds();t.innerHTML=s+'<span style="color: red">rest debug('+l+"): </span>"+e+"<br/>"},closeDebug:function(){var e=document.getElementById("dbgComp");null!=e&&(e.style.display="none",e.innerHTML="")},storeRequestHeaders:function(){localStorage&&(ts._storeHeader("req_hdr_1"),ts._storeHeader("req_hdr_2"),ts._storeHeader("req_hdr_3"),ts._storeHeader("req_hdr_4"),ts._storeHeader("req_hdr_5"),ts._storeHeader("req_hdr_val_1"),ts._storeHeader("req_hdr_val_2"),ts._storeHeader("req_hdr_val_3"),ts._storeHeader("req_hdr_val_4"),ts._storeHeader("req_hdr_val_5"))},_storeHeader:function(e){var t=document.getElementById(e).value.trim();0===t.length?localStorage.removeItem(e):localStorage.setItem(e,t)},restoreRequestHeaders:function(){localStorage&&(ts._restoreHeader("req_hdr_1"),ts._restoreHeader("req_hdr_2"),ts._restoreHeader("req_hdr_3"),ts._restoreHeader("req_hdr_4"),ts._restoreHeader("req_hdr_5"),ts._restoreHeader("req_hdr_val_1"),ts._restoreHeader("req_hdr_val_2"),ts._restoreHeader("req_hdr_val_3"),ts._restoreHeader("req_hdr_val_4"),ts._restoreHeader("req_hdr_val_5"))},_restoreHeader:function(e){var t=localStorage.getItem(e);t&&(document.getElementById(e).value=t)},getRequestHeader:function(e){var t=document.getElementById(e);if(t)return t.value.trim();if(localStorage){var a=localStorage.getItem(e);return a?a:""}return""}},WADLParser.prototype={getWadlDocument:function(e){var t=ts.xhr.get(e);if(void 0==t||""==t||-1!=t.indexOf("RequestFailed -->")){var a=prompt(ts.wadlErr,baseURL);return null!=a&&baseURL!=a&&(baseURL=a,ts.wadlURL=ts.concatPath(baseURL,"application.wadl"),ts.initFromWadl()),null}var r=ts.xhr.loadXml(t);if(null!=r){var n=r.documentElement;if(null!=n){var s=ts.getElementsByTagName(n,"resources")[0],i=ts.getElementsByTagName(s,"resource");if(null!=i&&i.length>0){for(var l=[],o=0;o<i.length;o++){var d=i[o],u=s.attributes.getNamedItem("base").nodeValue,c=d.attributes.getNamedItem("path").nodeValue;t=ts.xhr.options(ts.concatPath(u,c),"application/vnd.sun.wadl+xml"),l.push(ts.xhr.loadXml(t))}if(l.length>0){r=l[0],s=ts.getElementsByTagName(r.documentElement,"resources")[0];for(var o=1;o<l.length;o++){var h=ts.getElementsByTagName(l[o].documentElement,"resources")[0];if(i=ts.getElementsByTagName(h,"resource"),null!=i&&i.length>0)try{var p=r.importNode(i[0],!0);s.appendChild(p)}catch(m){s.appendChild(i[0])}}}}}}return r},updateMenu:function(e,t){ts.setvisibility("main","inherit"),ts.updatepage("subheader",'<br/><span class=MstLbl_sun4>WADL : </span><a class=MstLnk_sun4 href="'+e+'">'+e+"</a>"),null!=t&&this.initTree(t)},initTree:function(e){var t=this.createTree(e),a=t.toString();ts.updatepage("leftSidebar",a),this.showTopCategory()},refreshTree:function(e){var t=this.createTree(e),a=t.toString();ts.updatepage("leftSidebar",a)},createTree:function(e){var t,a=e.documentElement,r=new tree;if(null!=a){t=ts.getElementsByTagName(a,"resources")[0],ts.projectName=this.projectNameFromUrl(t.attributes.getNamedItem("base").nodeValue);var n=new category(t,this.getTopCategoryId(),baseURL,ts.projectName);r.add(n),this.createChildNodes(t,n)}return r},projectNameFromUrl:function(e){var t=e,a=t.indexOf("/",7);-1!=a&&(t=t.substring(a,t.length));var r=t.indexOf("/",1);return t.length>1&&-1!=r&&(t=t.substring(1,r)),
t},createChildNodes:function(e,t){function a(e,t){if(null==e.nodeValue&&null!=e.childNodes&&e.childNodes.length>0)for(var n=0;n<e.childNodes.length;++n){var s=e.childNodes[n];if(ts.wdr.isResource(s)){var i=r(s,t);null!=i&&(t.add(i),a(s,i))}}}function r(e,t){var a=ts.wdr.getNormailizedPath(e),r="";r="/"==a.substring(0,1)&&a.length>1?a.substring(1):a;var n=t.uri,s="";s="/"==n.substring(n.length-1)?t.uri+r:t.uri+"/"+r,"//"==s.substring(s.length-2)&&(s=s.substring(0,s.length-2));var i="/"==a?"/":ts.wdr.trimSeperator(a);if(ts.wdr.hasResource(e))return new category(e,ts.wdr.getUniqueCategoryId(a),s,i);var l=ts.getElementsByTagName(e,"method");if(null!=l&&l.length>0)return new item(e,a,s,i);var o=ts.wdr.findResource(baseURL+a);return null==o?null:ts.wdr.hasResource(o)?null:new item(o,a,s,i)}if(null!=e.childNodes&&e.childNodes.length>0)for(var n=0;n<e.childNodes.length;++n){var s=e.childNodes[n];if(ts.wdr.isResource(s)){var i=unescape(ts.wdr.getNormailizedPath(s));s.attributes.getNamedItem("path").nodeValue=i,ts.topUrls.push(i)}}a(e,t)},getNormailizedPath:function(e){var t=e.attributes.getNamedItem("path"),a=t.nodeValue;return this.prependSeperator(a)},isResource:function(e){return null==e.nodeValue&&"resource"==e.nodeName?!0:!1},hasResource:function(e){if(null==e.nodeValue&&null!=e.childNodes&&e.childNodes.length>0)for(var t=0;t<e.childNodes.length;++t){var a=e.childNodes[t];if(this.isResource(a)&&this.hasMethod(a))return!0}return!1},hasMethod:function(e){var t=ts.getElementsByTagName(e,"method");return null!=t&&t.length>0?!0:!1},prependSeperator:function(e){return null!=e&&"/"!=e.substring(0,1)&&(e="/"+e),e},trimSeperator:function(e){return null!=e&&("/"==e.substring(0,1)&&(e=e.substring(1)),"/"==e.substring(e.length-1,e.length)&&(e=e.substring(0,e.length-1))),e},evaluateWADLUpdate:function(e,t){var a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><root>';try{var r=this.getAllResourcesFromWadl(t);if(null!=r)for(i=0;i<r.length;i++){var n=ts.getResourcePath(r[i]),s="";s="/"!=baseURL.substring(baseURL.length-1,baseURL.length)&&"/"!=n.substring(0,1)?baseURL+"/"+n:baseURL+n,a+='<node uri="'+s+'"/>'}}catch(l){ts.debug("evaluateWADLUpdate() err name: ["+l.name+"] message: ["+l.message+"]")}return a+="</root>"},getAllResourcesFromWadl:function(e){try{if(-1!=e.indexOf("<?xml ")){var t=ts.xhr.loadXml(e);if(null!=t&&"parsererror"==t.documentElement.nodeName)return null;if(container=t.documentElement,null==container||"html"==container.nodeName)return null}if(null!=container)return this.findResourcesFromWadl(container)}catch(a){ts.debug("getAllResourcesFromWadl() err name: ["+a.name+"] message: ["+a.message+"]")}return null},findResourcesFromWadl:function(e){return this.wadlResources=[],this.findResourcesFromWadlRecursively(e),this.wadlResources},findResourcesFromWadlRecursively:function(e){if(null!=e){var t=e.childNodes;if(null!=t&&0!=t.length){var a=0;for(a=0;a<t.length;a++){var r=t[a];null==r.nodeValue&&("resource"==r.nodeName&&null!=r.attributes&&r.attributes.length>0&&null!=r.attributes.getNamedItem("path")&&this.wadlResources.push(r),("resource"==r.nodeName||"resources"==r.nodeName)&&this.findResourcesFromWadlRecursively(r))}}}},showTopCategory:function(){this.showCategory(this.getTopCategoryId())},showCategory:function(e){var t=document.getElementById(e).style;"block"==t.display?t.display="none":t.display="block",ts.toggleCategory(e)},getTopCategoryId:function(){return"resources_0"},getUniqueCategoryId:function(e){return e+"_"+ts.allcat.length},updateTree:function(e){if(e==this.getTopCategoryId())return void this.showTopCategory();var t=this.createTree(ts.wadlDoc);ts.updatepage("leftSidebar",t.toString()),childrenContent="",this.getChildren(e),currentCategory=e,setTimeout("ts.wdr.refreshCategory()",1e3)},refreshCategory:function(){var e=currentCategory;ts.updatepage(e,childrenContent),this.showTopCategory(),this.showCategory(e)},getMediaType:function(e){var t=e.attributes.getNamedItem("name").nodeValue,a=ts.getElementsByTagName(e,"request"),r=ts.getElementsByTagName(e,"response"),n="",s=a;if("GET"==t&&(s=r),null!=s&&s.length>0){var i=ts.getElementsByTagName(s[0],"representation");if(null!=i)for(var l=0;l<i.length;l++)if(i[l].attributes.length>0){var o=i[l].attributes.getNamedItem("mediaType");null!=o&&(n+=o.nodeValue+",")}}return n.length>1&&(n=n.substring(0,n.length-1)),n},findResource:function(e){var t=null,a=baseURL.length;if(e.length>a){var r=e.substring(a,e.length),n=this.lookupIndex(r);if(-1==n){var s=r.lastIndexOf("/");if(-1!=s){var i=r.substring(0,s),l=i.lastIndexOf("/");r=r.substring(l,r.length),n=this.lookupIndex(r)}}if(n>-1){var o=ts.wadlDoc.documentElement,d=ts.getElementsByTagName(o,"resources")[0],u=d.childNodes;if(null!=u&&u.length>0)for(var c=0;c<u.length;c++){var h=u[c];if(null==h.nodeValue&&"resource"==h.nodeName){var p=h.attributes.getNamedItem("path");if(ts.wdr.trimSeperator(p.nodeValue)==ts.wdr.trimSeperator(r))return h}}}}return t},lookupIndex:function(e){for(var t=-1,a=0;a<ts.topUrls.length;a++)if(ts.topUrls[a]==e){t=a;break}return t},getMethodNameForDisplay:function(e,t){if("DELETE"===e)return e;var a=e;return t||"PUT"!==e&&"POST"!==e||(t=getDefaultMime()),t&&(a+="("+t+")"),a},getDefaultMime:function(){return"application/xml"},getDefaultMethod:function(){return"GET"},getMimeType:function(e){if(null!=e){var t=e.indexOf("(");return-1==t?"GET"==e||"POST"==e||"PUT"==e||"DELETE"==e?getDefaultMime():e:e.substring(t+1,e.length-1)}return getDefaultMime()},getMethod:function(e){if(null!=e){var t=e.indexOf("(");return-1==t?e:e.substring(0,t)}return this.getDefaultMethod()},getChildren:function(e){var t=ts.xhr.get(baseURL+e,this.getDefaultMime());this.getChildrenContent(t)},getChildrenContent:function(e){if(-1!=e){var t=this.getChildrenAsItems(e);childrenContent=t}else childrenContent=""},getChildrenAsItems:function(e){var t=e;if(null==t)return"";var a=null;try{a=ts.xhr.loadXml(t)}catch(r){return ts.debug("getChildrenAsItems()->loadXml() err name: ["+r.name+"] message: ["+r.message+"]"),null}if(null!=a&&"parsererror"!=a.documentElement.nodeName)try{var n=a.documentElement;if(null==n||"html"==n.nodeName)return t;for(var s="",i=n.childNodes,l=0,o=0;o<i.length;o++){var d=i[o];if(null==d.nodeValue){for(var u=d,c=u.childNodes,h=0;h<c.length;h++){var p=c[h];if(null==p.nodeValue){var m=p;if(null!=u.attributes&&u.attributes.length>0&&null!=u.attributes.getNamedItem("uri")){var g=u.attributes.getNamedItem("uri").nodeValue,f=m.childNodes[0].nodeValue;this.getDisplayUri(g);s+=this.getItemString(f,g)}}}l++}}t=s}catch(r){return ts.debug("getChildrenAsItems() err name: ["+r.name+"] message: ["+r.message+"]"),null}return t}},tree.prototype={add:function(e){this.categories[this.categories.length]=e},list:function(){return this.categories},toString:function(){for(var e="",t=0;t<this.categories.length;t++)e+=this.categories[t].write();return e}},category.prototype={write:function(){var e='<span id="nodeSel'+this.id+'" class="category TreeContent_sun4"';this.uri!=baseURL?(e+='><img src="cg.gif" id="I1'+this.id+'" onClick="ts.wdr.showCategory(\''+this.id+"')\">",e+='<img src="collapse.gif" id="I'+this.id+'">',e+="<div class='item2'><a class=Hyp_sun4 href=javascript:ts.doShowContentForId('"+this.ndx+"') >"+this.text+"</a></div>"):(e+='><img src="cg.gif" id="I1'+this.id+'" onClick="ts.wdr.updateTree(\''+this.id+"')\">",e+='<img src="app.gif" id="I'+this.id+'">',e+="<div class='item2'><a class=Hyp_sun4 href=javascript:ts.clearAll() >"+this.text+"</a></div>"),e+="</span>",e+='<span class="item" id="',e+=this.id+'">';for(var t=this.items.length,a=0;t>a;a++)e+=this.items[a].write();return e+="</span>"},add:function(e){this.items[this.items.length]=e},list:function(){return this.items}},item.prototype={write:function(){var e='<span class="category TreeContent_sun4"><img src="cc.gif" border="0">';return e+='<img src="item.gif" border="0">',e+=null!=this.uri?"<div class=item1><a class=Hyp_sun4 href=javascript:ts.doShowContentForId('"+this.ndx+"') >"+this.text+"</a></div>":this.text,e+="</span>"}},XHR.prototype={getHttpRequest:function(){var e;try{e=new XMLHttpRequest}catch(t){try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){ts.debug("Your browser does not support AJAX!")}}}return e},connect:function(e,t,a,r,n){var s=this.getHttpRequest();if(null==s)return ts.debug("Error: Cannot create XMLHttpRequest"),null;try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead")}catch(i){}try{s.open(e,t,n)}catch(i){return ts.debug("connect(): Error: XMLHttpRequest.open failed for: "+t+" Error name: "+i.name+" Error message: "+i.message),null}if(null!=a&&("GET"==e||"OPTIONS"==e?s.setRequestHeader("Accept",a):("POST"==e||"PUT"==e)&&(s.setRequestHeader("Content-Type",a),s.setRequestHeader("Content-Length",r),s.setRequestHeader("Connection","close"))),toggleHeadersBlock&&toggleHeadersBlock.cache){var l=ts.getRequestHeader("req_hdr_1");l.length>0&&s.setRequestHeader(l,ts.getRequestHeader("req_hdr_val_1")),l=ts.getRequestHeader("req_hdr_2"),l.length>0&&s.setRequestHeader(l,ts.getRequestHeader("req_hdr_val_2")),l=ts.getRequestHeader("req_hdr_3"),l.length>0&&s.setRequestHeader(l,ts.getRequestHeader("req_hdr_val_3")),l=ts.getRequestHeader("req_hdr_4"),l.length>0&&s.setRequestHeader(l,ts.getRequestHeader("req_hdr_val_4")),l=ts.getRequestHeader("req_hdr_5"),l.length>0&&s.setRequestHeader(l,ts.getRequestHeader("req_hdr_val_5"))}return navigator.userAgent.toLowerCase().indexOf("msie")>=0&&(s.setRequestHeader("Cache-Control","no-cache"),s.setRequestHeader("Pragma","no-cache"),s.setRequestHeader("Expires","-1")),ts.currentValidUrl=t,s},httpRequest:function(e,t,a,r,n){var s=0;void 0!=r&&null!=r&&(s=r.length);var i=this.connect(e,t,a,s,!1);try{if(i.send(r),this.isResponseReady(e,i,r,n)){var l=i.responseText;if(!(void 0!=l&&""!=l||"POST"!=e&&"PUT"!=e&&"DELETE"!=e))return"No content in response";if(void 0==l||""==l||-1!=l.indexOf("HTTP Status")){var o=e+" RequestFailed RequestFailed --> Status: ("+i.status+")\n<br/>Response: {<br/>"+i.responseText+"<br/>}";return ts.debug("Failed XHR("+e+", "+t+"): "+o),o}return l}}catch(d){ts.debug("httpRetrieve(): Caught Exception; name: ["+d.name+"] message: ["+d.message+"]")}return"-1"},get:function(e,t){return this.httpRequest("GET",e,t,null,!0)},options:function(e,t){return this.httpRequest("OPTIONS",e,t,null,!1)},post:function(e,t,a){return this.httpRequest("POST",e,t,a,!0)},put:function(e,t,a){return this.httpRequest("PUT",e,t,a,!0)},delete_:function(e){return this.httpRequest("DELETE",e,"application/xml","",!0)},loadXml:function(e){var t;if(window.ActiveXObject)t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);else{var a=new DOMParser;t=a.parseFromString(e,ts.wdr.getDefaultMime())}return t},isResponseReady:function(e,t,a,r){return 4==t.readyState?(r&&(ts.currentXmlHttpReq=t,ts.monitor(e,t,a)),!0):!1}};
